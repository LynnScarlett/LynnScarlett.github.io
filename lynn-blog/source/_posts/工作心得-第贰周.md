---
title: 工作心得#第贰周
date: 2018-07-15 18:43:11
category:
- Coding
tags:
- Dev
---

# 箭头函数的使用

箭头函数和 function 命名的函数区别主要在于 this 的指向。function 函数的 this 值和执行环境有关，箭头函数的 this 值在定义时就确定。
如下图 downloadJson 和 themeJson 都取不到，会报错。

```JavaScript
data(){
    return {
        this.downloadJson,
        this.themeJson
    }
}
methods:{
    let option ={
        title: [{
            subtext: '总计 ' + Object.keys(this.downloadJson).reduce(function (all, key) {
                return all + this.downloadJson[key];
            }, 0),
            x: '75%',
            textAlign: 'center'
        }, {
            text: '主题下载',
            subtext: '总计 ' + Object.keys(this.themeJson).reduce(function (all, key) {
                return all + this.themeJson[key];
            }, 0),
            x: '75%',
            y: '50%',
            textAlign: 'center'
        }],
    }
}
```

# map()/reduce()

具体可以看以下博客

[map/reduce 廖雪峰的博客](https://www.liaoxuefeng.com/wiki/001434446689867b27157e896e74d51a89c25cc8b43bdb3000/001435119854495d29b9b3d7028477a96ed74db95032675000)

[map/reduce MDN Docs](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map)

简单来说 map()方法就是依次将数组内所有值执行一个过程（函数），返回值仍然是数组，比如每个元素加 1。

reduce()方法就是讲所有的元素执行一个过程后返回一个值比如求和。

```JavaScript
// 不用parseInt和Number转数字

var string2int = s=>s.split("").map(x=>+x).reduce((x,y)=>(x*10+y))
```

# veitical-align

这个地方感觉坑很多，这周的工作中由于用到了很多 inline 的横向布局，在文字和图片混排的过程中 vertival-align 的变动很大。
还没有研究明白，日后再填坑。

参考链接:[vertical-align](http://christopheraue.net/design/vertical-align)
